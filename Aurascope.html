<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuraScope | The Depth of Human Behavior</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;400;900&family=Plus+Jakarta+Sans:wght@200;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --accent: #d946ef;
            --bg: #020617;
            --glass: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.1);
        }

        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background: var(--bg); 
            color: #f1f5f9; 
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        h1, h2, h3, .outfit { font-family: 'Outfit', sans-serif; }

        /* --- PRELOADER (Rotating Box-in-Box) --- */
        #preloader {
            position: fixed; inset: 0; background: #020617;
            display: flex; flex-direction: column; justify-content: center;
            align-items: center; z-index: 9999;
        }
        .loader-box {
            width: 80px; height: 80px; border: 4px solid var(--primary);
            animation: loaderRotate 1.5s infinite cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
        }
        .loader-box::after {
            content: ''; position: absolute; inset: 10px;
            background: var(--accent); animation: loaderInner 1.5s infinite ease-in-out;
        }
        @keyframes loaderRotate {
            0% { transform: rotate(0deg); border-radius: 10px; }
            50% { transform: rotate(180deg); border-radius: 50%; }
            100% { transform: rotate(360deg); border-radius: 10px; }
        }
        @keyframes loaderInner {
            0%, 100% { transform: scale(1); opacity: 1; border-radius: 2px; }
            50% { transform: scale(0.3); opacity: 0.5; border-radius: 50%; }
        }

        /* --- LOOPING ANIMATIONS FOR ICONS --- */
        @keyframes float-loop {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }
        .animate-float { animation: float-loop 4s infinite ease-in-out; }

        @keyframes pulse-glow {
            0%, 100% { filter: drop-shadow(0 0 5px var(--primary)); opacity: 1; }
            50% { filter: drop-shadow(0 0 20px var(--primary)); opacity: 0.8; }
        }
        .animate-glow { animation: pulse-glow 3s infinite ease-in-out; }

        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow { animation: spin-slow 8s linear infinite; }

        /* --- GLOBAL ANIMATIONS --- */
        .reveal { opacity: 0; transform: translateY(50px); transition: all 1s cubic-bezier(0.17, 0.85, 0.32, 1.27); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 40px;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }
        .glass-card:hover {
            transform: translateY(-20px) scale(1.03);
            border-color: var(--primary);
            box-shadow: 0 40px 80px -20px rgba(99, 102, 241, 0.3);
            background: rgba(255, 255, 255, 0.07);
        }

        .tab-section { display: none; }
        .tab-section.active { display: block; animation: sectionEnter 0.8s forwards; }
        @keyframes sectionEnter {
            from { opacity: 0; filter: blur(10px); transform: scale(0.95); }
            to { opacity: 1; filter: blur(0); transform: scale(1); }
        }

        /* --- LIKERT STYLING --- */
        .likert-btn {
            width: 55px; height: 55px; border-radius: 18px;
            border: 2px solid #1e293b; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex; align-items: center; justify-content: center; font-weight: 900;
        }
        .likert-btn:hover { border-color: var(--primary); transform: scale(1.2) rotate(5deg); background: rgba(99, 102, 241, 0.1); }
        .likert-btn.selected { 
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-color: transparent; color: white;
            box-shadow: 0 0 30px rgba(168, 85, 247, 0.5); transform: scale(1.3);
        }

        .gradient-text {
            background: linear-gradient(to right, #818cf8, #c084fc, #fb7185);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: textFlow 4s linear infinite;
        }
        @keyframes textFlow { to { background-position: 200% center; } }
    </style>
</head>
<body>

    <!-- PRELOADER -->
    <div id="preloader">
        <div class="loader-box mb-10"></div>
        <p class="text-xs tracking-[1em] font-bold animate-pulse text-indigo-400">INITIALIZING INTERFACE</p>
    </div>

    <!-- NAVIGATION -->
    <nav class="fixed top-0 w-full z-50 py-6 px-10 flex justify-between items-center bg-black/50 backdrop-blur-3xl border-b border-white/5">
        <div class="flex items-center gap-3 cursor-pointer group" onclick="switchTab('home')">
            <i data-lucide="shapes" class="text-indigo-500 w-10 h-10 transition-transform group-hover:rotate-180 duration-700"></i>
            <span class="text-3xl font-black tracking-tighter uppercase outfit">Aura<span class="text-indigo-500">Scope</span></span>
        </div>
        <div class="hidden md:flex items-center space-x-12 text-xs font-black uppercase tracking-[0.2em]">
            <button onclick="switchTab('home')" class="nav-link hover:text-indigo-400 transition">Home</button>
            <button onclick="switchTab('about')" class="nav-link hover:text-indigo-400 transition">About Us</button>
            <button onclick="switchTab('quiz')" class="bg-white text-black px-8 py-3 rounded-full hover:bg-indigo-500 hover:text-white transition-all transform hover:scale-110 active:scale-95 shadow-xl">Start Test</button>
        </div>
    </nav>

    <!-- HOME SECTION -->
    <section id="home" class="tab-section active pt-52 pb-96">
        <div class="container mx-auto px-8">
            <div class="max-w-5xl mx-auto text-center mb-40">
                <h1 class="text-7xl md:text-[10rem] font-black mb-12 leading-[0.85] outfit animate__animated animate__zoomIn">
                    Discover Your <br><span class="gradient-text">Primal Blueprint.</span>
                </h1>
                <p class="text-gray-400 text-xl md:text-3xl font-light mb-16 leading-relaxed max-w-4xl mx-auto animate__animated animate__fadeInUp animate__delay-1s">
                    Decipher the complex situational variables that drive your decisions. AuraScope is more than a quiz—it's a high-fidelity mirror for your professional and social subconscious.
                </p>
                <div class="flex flex-wrap justify-center gap-10 animate__animated animate__fadeInUp animate__delay-2s">
                    <button onclick="switchTab('quiz')" class="px-16 py-8 bg-indigo-600 rounded-3xl font-black text-2xl hover:bg-indigo-500 transition-all hover:scale-105 shadow-[0_20px_60px_-15px_rgba(99,102,241,0.5)]">
                        TAKE THE ASSESSMENT
                    </button>
                    <button onclick="switchTab('about')" class="px-16 py-8 border-2 border-white/10 rounded-3xl font-black text-2xl hover:bg-white/5 transition-all">
                        OUR SCIENCE
                    </button>
                </div>
            </div>

            <div class="grid md:grid-cols-3 gap-12">
                <div class="glass-card p-14 reveal">
                    <div class="w-20 h-20 bg-indigo-500/20 rounded-[30px] flex items-center justify-center mb-10 animate-float">
                        <i data-lucide="cpu" class="text-indigo-400 w-10 h-10"></i>
                    </div>
                    <h3 class="text-3xl font-bold mb-6">Cognitive Depth</h3>
                    <p class="text-gray-400 text-lg leading-relaxed">By analyzing 50 unique data points across your behavior, we map out the logical frameworks you use to navigate chaos.</p>
                </div>
                <div class="glass-card p-14 reveal">
                    <div class="w-20 h-20 bg-purple-500/20 rounded-[30px] flex items-center justify-center mb-10 animate-spin-slow">
                        <i data-lucide="shield" class="text-purple-400 w-10 h-10"></i>
                    </div>
                    <h3 class="text-3xl font-bold mb-6">Zero Bias</h3>
                    <p class="text-gray-400 text-lg leading-relaxed">Our scenarios bypass the 'ideal-self' filter, forcing honest reactions to practical real-world dilemmas.</p>
                </div>
                <div class="glass-card p-14 reveal">
                    <div class="w-20 h-20 bg-rose-500/20 rounded-[30px] flex items-center justify-center mb-10 animate-glow">
                        <i data-lucide="zap" class="text-rose-400 w-10 h-10"></i>
                    </div>
                    <h3 class="text-3xl font-bold mb-6">Instant Clarity</h3>
                    <p class="text-gray-400 text-lg leading-relaxed">Receive a surgical breakdown of your social frequency, leadership style, and internal stress thresholds instantly.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about" class="tab-section pt-52 pb-40">
        <div class="container mx-auto px-8 max-w-6xl">
            <div class="text-center mb-32 reveal">
                <h2 class="text-6xl md:text-8xl font-black mb-12 outfit">Building the <span class="text-indigo-500">Human Map.</span></h2>
                <div class="max-w-4xl mx-auto space-y-8 text-2xl text-gray-400 leading-relaxed font-light">
                    <p>
                        AuraScope was founded in 2021 by a cross-disciplinary collective of behavioral economists, neuroscientists, and cultural anthropologists. We shared a common frustration: the personality assessment industry was stuck in the 1950s.
                    </p>
                    <p>
                        Most tests rely on "self-description"—asking you if you are a leader, and then telling you that you are a leader. This creates a circular ego-loop that provides no real growth. We decided to build a system that measures <span class="text-white font-bold">reaction</span> instead of <span class="text-white font-bold">opinion</span>.
                    </p>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-20 items-stretch mb-40">
                <div class="glass-card p-12 reveal">
                    <div class="flex items-center gap-4 mb-8">
                        <i data-lucide="microscope" class="text-indigo-400 w-12 h-12 animate-float"></i>
                        <h3 class="text-4xl font-bold text-indigo-400">The Problem</h3>
                    </div>
                    <p class="text-gray-300 text-xl leading-relaxed mb-6">
                        Traditional psychometrics ignore the <span class="italic">environment</span>. You are not the same person in a high-stakes boardroom as you are at a family dinner. Static tests fail to capture your "Cognitive Elasticity"—your ability to adapt your logic when the pressure mounts.
                    </p>
                    <p class="text-gray-300 text-xl leading-relaxed">
                        By only measuring surface-level traits, these tests miss the deep-seated fears and specific triggers that actually dictate your career trajectory and relationship health.
                    </p>
                </div>
                <div class="glass-card p-12 reveal">
                    <div class="flex items-center gap-4 mb-8">
                        <i data-lucide="brain-circuit" class="text-purple-400 w-12 h-12 animate-glow"></i>
                        <h3 class="text-4xl font-bold text-purple-400">Our Solution</h3>
                    </div>
                    <p class="text-gray-300 text-xl leading-relaxed mb-6">
                        We developed the "Aura Dynamics Engine." We present you with 50 specific, modern scenarios that trigger your subconscious logic. We analyze your responses against a massive dataset of high-performance behavioral models to find your "Core Frequency."
                    </p>
                    <p class="text-gray-300 text-xl leading-relaxed">
                        The result is a dynamic blueprint. We don't just tell you who you are; we show you how you operate, where you stall, and how you can optimize your defaults for real-world impact.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- QUIZ SECTION -->
    <section id="quiz" class="tab-section pt-44 pb-40">
        <div class="container mx-auto px-8 max-w-4xl">
            <div class="sticky top-28 z-40 bg-slate-950/80 backdrop-blur-3xl p-10 rounded-[40px] border border-white/5 mb-24 shadow-2xl">
                <div class="flex justify-between items-end mb-6">
                    <div>
                        <h2 class="text-2xl font-black text-white uppercase tracking-widest">Calibration Phase</h2>
                        <p class="text-gray-500 text-sm">Be honest. Your first instinct is usually the correct data point.</p>
                    </div>
                    <span id="progress-val" class="text-5xl font-black gradient-text">0%</span>
                </div>
                <div class="h-4 bg-gray-900 rounded-full overflow-hidden border border-white/5">
                    <div id="progress-bar" class="h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-rose-500 w-0 transition-all duration-700"></div>
                </div>
            </div>

            <div id="question-feed" class="space-y-16"></div>

            <div class="mt-40 text-center pb-20">
                <button onclick="preValidate()" class="group relative px-20 py-10 bg-indigo-600 rounded-[40px] font-black text-3xl hover:scale-105 transition-all shadow-[0_30px_90px_-20px_rgba(99,102,241,0.7)]">
                    ANALYZE MY PSYCHE
                </button>
            </div>
        </div>
    </section>

    <!-- RESULTS SECTION -->
    <section id="results" class="tab-section pt-44 pb-40">
        <div class="container mx-auto px-8 max-w-6xl">
            <div class="text-center mb-32 reveal">
                <div id="res-icon-container" class="flex justify-center mb-10"></div>
                <p class="text-indigo-400 font-bold tracking-[1em] uppercase mb-6 animate__animated animate__fadeInDown">Assessment Complete</p>
                <h1 id="res-name" class="text-7xl md:text-[8rem] font-black outfit mb-10">...</h1>
                <p id="res-tagline" class="text-3xl text-gray-500 italic font-light"></p>
            </div>

            <div class="grid md:grid-cols-12 gap-12">
                <div class="md:col-span-4 space-y-10">
                    <div class="glass-card p-12 sticky top-44 reveal">
                        <h4 class="font-black mb-12 uppercase tracking-widest text-indigo-400">Dimension Scores</h4>
                        <div class="space-y-12">
                            <div>
                                <div class="flex justify-between text-xs font-black mb-4"><span>COGNITIVE DEPTH</span><span id="stat-1">0%</span></div>
                                <div class="h-2 bg-gray-950 rounded-full overflow-hidden"><div id="bar-1" class="h-full bg-indigo-500 w-0 transition-all duration-1000"></div></div>
                            </div>
                            <div>
                                <div class="flex justify-between text-xs font-black mb-4"><span>ADAPTIVE RESONANCE</span><span id="stat-2">0%</span></div>
                                <div class="h-2 bg-gray-950 rounded-full overflow-hidden"><div id="bar-2" class="h-full bg-purple-500 w-0 transition-all duration-1000"></div></div>
                            </div>
                            <div>
                                <div class="flex justify-between text-xs font-black mb-4"><span>EXECUTION DRIVE</span><span id="stat-3">0%</span></div>
                                <div class="h-2 bg-gray-950 rounded-full overflow-hidden"><div id="bar-3" class="h-full bg-rose-500 w-0 transition-all duration-1000"></div></div>
                            </div>
                        </div>
                        <button onclick="location.reload()" class="w-full mt-16 py-6 bg-white text-black font-black rounded-3xl hover:scale-105 transition-all shadow-xl">RETAKE ASSESSMENT</button>
                    </div>
                </div>

                <div class="md:col-span-8 space-y-12">
                    <div class="glass-card p-14 reveal">
                        <h3 class="text-4xl font-black mb-10 flex items-center gap-5 text-indigo-300">
                            <i data-lucide="user-search" class="w-10 h-10 animate-float"></i> The Core Identity
                        </h3>
                        <p id="res-desc-1" class="text-gray-300 text-2xl leading-relaxed mb-10"></p>
                        <p id="res-desc-2" class="text-gray-400 text-xl leading-relaxed"></p>
                    </div>

                    <div class="grid md:grid-cols-2 gap-12">
                        <div class="glass-card p-10 reveal border-l-8 border-l-emerald-500/50">
                            <h4 class="font-black text-emerald-400 mb-8 text-2xl">STRENGTHS</h4>
                            <ul id="res-strengths" class="space-y-6 text-gray-300 text-lg"></ul>
                        </div>
                        <div class="glass-card p-10 reveal border-l-8 border-l-rose-500/50">
                            <h4 class="font-black text-rose-400 mb-8 text-2xl">BLIND SPOTS</h4>
                            <ul id="res-weakness" class="space-y-6 text-gray-300 text-lg"></ul>
                        </div>
                    </div>

                    <div class="glass-card p-14 reveal">
                        <div class="flex items-center gap-4 mb-10">
                            <i data-lucide="briefcase" class="text-indigo-400 w-10 h-10 animate-glow"></i>
                            <h3 class="text-4xl font-black">Professional Archetype</h3>
                        </div>
                        <div id="res-career" class="text-gray-400 text-xl leading-relaxed space-y-8"></div>
                    </div>

                    <div class="glass-card p-14 reveal bg-indigo-600/5 border-indigo-500/20">
                        <div class="flex items-center gap-4 mb-10">
                            <i data-lucide="heart-handshake" class="text-pink-400 w-10 h-10 animate-float"></i>
                            <h3 class="text-4xl font-black text-indigo-400">Social Dynamics</h3>
                        </div>
                        <p id="res-social" class="text-gray-300 text-xl leading-relaxed"></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MODALS -->
    <div id="modal-container" class="fixed inset-0 bg-black/95 backdrop-blur-3xl hidden z-[100] items-center justify-center p-8">
        <div id="modal-confirm" class="glass-card p-16 max-w-xl w-full text-center hidden animate__animated animate__zoomIn">
            <i data-lucide="shield-check" class="w-24 h-24 text-indigo-500 mx-auto mb-10 animate-glow"></i>
            <h2 class="text-5xl font-black mb-6 outfit">Finalize Result?</h2>
            <p class="text-gray-400 text-xl mb-12 leading-relaxed">Are you 100% sure about your responses? Our algorithm will now generate your profile based on your current situational data.</p>
            <div class="flex gap-6">
                <button onclick="closeModal()" class="flex-1 py-6 rounded-3xl font-black text-xl bg-gray-800 hover:bg-gray-700 transition">REVIEW</button>
                <button onclick="processFinalReport()" class="flex-1 py-6 rounded-3xl font-black text-xl bg-indigo-600 shadow-xl">ANALYZE</button>
            </div>
        </div>

        <div id="modal-alert" class="glass-card p-16 max-w-xl w-full text-center hidden animate__animated animate__shakeX border-rose-500/30">
            <i data-lucide="alert-triangle" class="w-24 h-24 text-rose-500 mx-auto mb-10"></i>
            <h2 class="text-5xl font-black mb-6 outfit">Missing Data</h2>
            <p id="alert-msg" class="text-gray-400 text-xl mb-12 leading-relaxed"></p>
            <button onclick="closeModal()" class="w-full py-6 rounded-3xl font-black text-xl bg-rose-600 shadow-xl">BACK TO QUESTIONS</button>
        </div>
    </div>

    <script>
        const scenarios = [
            { id: 1, q: "In a group project, you would rather do a teammate's work yourself than risk a lower grade by waiting for them." },
            { id: 2, q: "You find yourself re-reading emails multiple times before sending to ensure there is no room for misinterpretation." },
            { id: 3, q: "In an argument, you value being factually correct over maintaining the emotional 'vibe' of the conversation." },
            { id: 4, q: "You feel physically uncomfortable when your desk or digital workspace is cluttered or disorganized." },
            { id: 5, q: "When a coworker shares a tragedy, your first instinct is to think about how it impacts current deadlines." },
            { id: 6, q: "You believe rules are guidelines meant for people who don't understand the underlying system." },
            { id: 7, q: "You find 'small talk' at networking events to be a massive drain on your cognitive energy." },
            { id: 8, q: "You would rather be the smartest person in a mediocre room than the least capable person in a room of geniuses." },
            { id: 9, q: "You often find yourself daydreaming about a future legacy rather than focusing on present social enjoyment." },
            { id: 10, q: "You feel responsible for fixing awkward silences in a group, even if you aren't the host." },
            { id: 11, q: "You make major life decisions based on 'gut feeling' and find data to justify it afterward." },
            { id: 12, q: "You can often predict exactly what someone is going to say ten seconds before they say it." },
            { id: 13, q: "You would rather work 80 hours a week on your own project than 40 hours for someone else's company." },
            { id: 14, q: "You find it difficult to forgive people for making 'stupid' mistakes that were logically avoidable." },
            { id: 15, q: "You prefer text communication over voice calls because it allows you to control the narrative better." },
            { id: 16, q: "You often feel like you are 'playing a character' when in large social settings." },
            { id: 17, q: "You find routine to be a comforting structure rather than a boring restriction." },
            { id: 18, q: "You are more interested in the 'Why' of a systemic failure than the 'How' of a temporary fix." },
            { id: 19, q: "You find it hard to delegate because you don't believe others can maintain your specific standard of quality." },
            { id: 20, q: "You care deeply about how your professional status is perceived by your industry peers." },
            { id: 21, q: "You find yourself tidying a room or reorganizing objects even when you are a guest." },
            { id: 22, q: "You believe a polite lie is always better than a truth that causes unnecessary group friction." },
            { id: 23, q: "You are usually the first person to notice a subtle shift in someone's tone of voice." },
            { id: 24, q: "You would rather work on a project alone than have to manage or rely on three other people." },
            { id: 25, q: "You feel a sense of accomplishment when you optimize a repetitive daily task by just a few seconds." },
            { id: 26, q: "You tend to keep your personal life and professional life completely separate." },
            { id: 27, q: "You find it hard to respect someone who is kind but consistently incompetent at their job." },
            { id: 28, q: "You would rather be respected for your results than liked for your personality." },
            { id: 29, q: "You often feel like you have a 'limited battery' for social interaction that depletes rapidly." },
            { id: 30, q: "You find yourself analyzing the layout of a restaurant or building the moment you walk in." },
            { id: 31, q: "You believe that most people are too easily swayed by emotion rather than objective logic." },
            { id: 32, q: "You keep a strict to-do list and feel genuine stress if items remain unchecked at the end of the day." },
            { id: 33, q: "You prefer specialized knowledge in one field over being a generalist in many." },
            { id: 34, q: "You find it easier to communicate with people who are direct, even if they are slightly rude." },
            { id: 35, q: "You are the person people call when they need a difficult, objective decision made without bias." },
            { id: 36, q: "You find abstract art or metaphors frustrating if they don't have a clear, logical point." },
            { id: 37, q: "You often take the lead in a crisis because everyone else seems to be moving too slowly." },
            { id: 38, q: "You find yourself 'correcting' people in your head (or out loud) when they state incorrect facts." },
            { id: 39, q: "You value a product's technical specifications much more than its brand aesthetic or story." },
            { id: 40, q: "You would rather read a non-fiction book to learn a skill than a novel for entertainment." },
            { id: 41, q: "You find it difficult to relax if you know there is an unfinished task hanging over your head." },
            { id: 42, q: "You believe that high ambition is more important than being content with what you have." },
            { id: 43, q: "You are often described by others as 'intense' or 'hyper-focused' when you are working." },
            { id: 44, q: "You find it easy to disconnect from work once you leave the office or close your laptop." },
            { id: 45, q: "You prefer to have a solid plan for your weekend rather than 'winging it'." },
            { id: 46, q: "You find yourself noticing subtle flaws in systems, like a slow website or a bad traffic light timing." },
            { id: 47, q: "You would rather spend your money on a high-quality tool or gadget than a social experience." },
            { id: 48, q: "You feel like you have a 'sixth sense' for when a project is about to fail before anyone else does." },
            { id: 49, q: "You find it easier to process information by reading it rather than hearing it in a meeting." },
            { id: 50, q: "You believe that most people don't think as deeply as they should about their own choices." }
        ];

        const answers = {};

        window.onload = () => {
            lucide.createIcons();
            initScrollReveal();
            renderQuiz();
            setTimeout(() => {
                document.getElementById('preloader').style.opacity = '0';
                setTimeout(() => document.getElementById('preloader').style.display = 'none', 500);
            }, 1800);
        };

        function initScrollReveal() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
            }, { threshold: 0.1 });
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        function switchTab(id) {
            document.querySelectorAll('.tab-section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0, 0);
            initScrollReveal();
        }

        function renderQuiz() {
            const feed = document.getElementById('question-feed');
            scenarios.forEach((s, idx) => {
                const card = document.createElement('div');
                card.className = "glass-card p-14 reveal group";
                card.innerHTML = `
                    <p class="text-3xl font-bold mb-12 leading-tight">
                        <span class="text-indigo-500 mr-4 opacity-50">#${s.id}</span>${s.q}
                    </p>
                    <div class="flex items-center justify-center gap-6 md:gap-10 max-w-4xl mx-auto">
                        <span class="text-[10px] font-black uppercase tracking-[0.3em] text-rose-500 whitespace-nowrap">Strongly Disagree</span>
                        <div class="flex gap-4 md:gap-6">
                            ${[1, 2, 3, 4, 5].map(v => `<button onclick="setAnswer(${s.id}, ${v}, this)" class="likert-btn">${v}</button>`).join('')}
                        </div>
                        <span class="text-[10px] font-black uppercase tracking-[0.3em] text-indigo-500 whitespace-nowrap">Strongly Agree</span>
                    </div>
                `;
                feed.appendChild(card);
            });
        }

        function setAnswer(id, val, btn) {
            answers[id] = val;
            btn.parentElement.querySelectorAll('button').forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
            const progress = (Object.keys(answers).length / scenarios.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-val').innerText = `${Math.round(progress)}%`;
        }

        function preValidate() {
            const count = Object.keys(answers).length;
            if(count < 50) showModal('alert', `Incomplete Data. You have only answered ${count} out of 50 scenarios. Our diagnostic engine requires a full dataset.`);
            else showModal('confirm');
        }

        function showModal(type, msg = "") {
            document.getElementById('modal-container').classList.add('flex');
            document.getElementById('modal-container').classList.remove('hidden');
            document.getElementById('modal-confirm').classList.add('hidden');
            document.getElementById('modal-alert').classList.add('hidden');
            if(type === 'confirm') document.getElementById('modal-confirm').classList.remove('hidden');
            else { document.getElementById('modal-alert').classList.remove('hidden'); document.getElementById('alert-msg').innerText = msg; }
        }

        function closeModal() { document.getElementById('modal-container').classList.add('hidden'); document.getElementById('modal-container').classList.remove('flex'); }

        function processFinalReport() {
            closeModal();
            document.getElementById('preloader').style.display = 'flex';
            document.getElementById('preloader').style.opacity = '1';
            let total = Object.values(answers).reduce((a, b) => a + b, 0);
            setTimeout(() => { document.getElementById('preloader').style.display = 'none'; switchTab('results'); renderDeepReport(total); }, 3000);
        }

        function renderDeepReport(score) {
            const n = document.getElementById('res-name');
            const t = document.getElementById('res-tagline');
            const d1 = document.getElementById('res-desc-1');
            const d2 = document.getElementById('res-desc-2');
            const c = document.getElementById('res-career');
            const str = document.getElementById('res-strengths');
            const w = document.getElementById('res-weakness');
            const s = document.getElementById('res-social');
            const iconCont = document.getElementById('res-icon-container');

            if(score > 195) {
                iconCont.innerHTML = '<i data-lucide="crown" class="w-32 h-32 text-indigo-500 animate-glow"></i>';
                n.innerText = "The Sovereign Architect";
                t.innerText = "Strategic detachment and systemic precision.";
                d1.innerText = "You operate with a high degree of 'Cognitive Decoupling.' While others are clouded by immediate emotional variables, you see the world as a complex network of levers and systems. Your mind naturally searches for the most efficient path between a problem and its resolution, often bypassing conventional social norms that you deem inefficient.";
                d2.innerText = "This archetype is common among high-level strategists. You value competence above all else, including loyalty. For you, the ultimate 'Good' is a system that works with machine-like reliability. You feel a deep-seated drive to master your environment, and you become restless when forced to follow a process that you know is suboptimal.";
                c.innerHTML = "<p>In professional settings, you are the 'Crisis Navigator.' You thrive when given total autonomy over high-entropy projects. You excel as a Systems Architect, Strategic Consultant, or Chief Technology Officer. You need a role where your ability to disconnect from noise allows you to see the signal others miss.</p>";
                str.innerHTML = "<li>Unflappable logic under extreme pressure.</li><li>Exceptional systemic pattern recognition.</li><li>Decisive execution without ego-clutter.</li>";
                w.innerHTML = "<li>Can be perceived as cold or hyper-critical.</li><li>Impatience with social nuance and 'small talk'.</li><li>Tendency to isolate when facing complex stress.</li>";
                s.innerText = "Socially, you are a 'High-Value/Low-Frequency' individual. You have no interest in broad networks, preferring a small circle of 2-3 people whose intellectual capacity matches your own. You express loyalty through practical problem-solving rather than verbal validation.";
                updateStats(98, 30, 92);
            } else if(score > 135) {
                iconCont.innerHTML = '<i data-lucide="sparkles" class="w-32 h-32 text-purple-500 animate-glow"></i>';
                n.innerText = "The Resonance Alchemist";
                t.innerText = "Harmonizing human frequency with strategic impact.";
                d1.innerText = "You are a master of 'Adaptive Calibration.' You possess a rare, high-bandwidth emotional intelligence that allows you to sense the unstated needs of a room instantly. Unlike the Sovereign, you understand that logic is a cold tool that only works when it is 'wrapped' in human resonance.";
                d2.innerText = "You serve as the vital bridge in any organization. You take the abstract, cold goals of a plan and translate them into a shared vision that inspires action. You are driven by the search for harmony, but you have the analytical edge to ensure that harmony doesn't turn into stagnation.";
                c.innerHTML = "<p>You are built for the 'Human-Innovation' sector. You excel in Brand Strategy, Creative Leadership, Diplomacy, or Product Marketing. You thrive when your success is measured by your ability to persuade, influence, and align disparate groups toward a single creative goal.</p>";
                str.innerHTML = "<li>Exceptional persuasive and diplomatic ability.</li><li>High 'Social Battery' and intuitive empathy.</li><li>Bridges the gap between logic and inspiration.</li>";
                w.innerHTML = "<li>Vulnerable to decision-paralysis when people conflict.</li><li>Tendency to over-index on external validation.</li><li>Susceptible to 'Empathy Burnout'.</li>";
                s.innerText = "You are the center of gravity in your social circle. People feel 'seen' around you, which is your superpower. However, you must be careful not to lose your own boundaries in your attempt to maintain everyone else's equilibrium.";
                updateStats(65, 95, 70);
            } else {
                iconCont.innerHTML = '<i data-lucide="shield-check" class="w-32 h-32 text-rose-500 animate-glow"></i>';
                n.innerText = "The Pragmatic Guardian";
                t.innerText = "Reliability as a competitive advantage.";
                d1.innerText = "You are the anchor in a world of chaos. You value 'Structural Integrity'—the idea that a system's worth is proven by its reliability over time, not its novelty in the moment. You are skeptical of change for change's sake and serve as the necessary reality-check for more impulsive archetypes.";
                d2.innerText = "Your focus is deep rather than broad. You are the one who catches the 1% error that would bring down the entire 99%. While others are chasing the next 'disruptive' idea, you are ensuring the foundation is strong enough to support the weight of growth. You find deep satisfaction in a job done with technical perfection.";
                c.innerHTML = "<p>You are the 'Defender of Standards.' You excel in Data Science, Quality Control, Legal Compliance, or Specialised Engineering. You flourish when given a clear standard of excellence to maintain and the resources to protect that standard from external chaos.</p>";
                str.innerHTML = "<li>Deep, focused technical mastery.</li><li>Incorruptible integrity and consistency.</li><li>Catches high-risk errors before they manifest.</li>";
                w.innerHTML = "<li>Initial resistance to 'unproven' innovations.</li><li>Difficulty navigating ambiguous, low-data social settings.</li><li>High risk of stress when rules are ignored.</li>";
                s.innerText = "You value 'Social Continuity.' You prefer long-standing, deep-rooted friendships built over years of shared history and proven trust. You are the rock your friends call when they need the honest, unvarnished truth.";
                updateStats(40, 50, 98);
            }
            lucide.createIcons();
            initScrollReveal();
        }

        function updateStats(s1, s2, s3) {
            document.getElementById('stat-1').innerText = s1 + "%";
            document.getElementById('bar-1').style.width = s1 + "%";
            document.getElementById('stat-2').innerText = s2 + "%";
            document.getElementById('bar-2').style.width = s2 + "%";
            document.getElementById('stat-3').innerText = s3 + "%";
            document.getElementById('bar-3').style.width = s3 + "%";
        }
    </script>
</body>
</html>